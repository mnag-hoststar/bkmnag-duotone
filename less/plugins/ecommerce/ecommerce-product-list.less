// Product List

// Conditional Mixins

.productsearch-widget-background--spacing() when not (@color__ecomproductslist-filters--background = @color__body--background) {
	padding: 2em 0;
	
	body:not(#migrated) #page-zones__main > &:first-child {
		margin-top: -2em;
		
		.responsivecolumns & {
			margin-top: 0;
		}
	}
}

// Product List Container

.widget[data-name="ecomproductslist"],
.widget[data-widget-type="ecomproductslist"],
.widget[data-name="ecomfeaturedproducts"],
.widget[data-widget-type="ecomfeaturedproducts"] {
	padding-top: 0;
}

.widget[data-name="ecomproductslist"] .ecomproductslist,
.widget[data-widget-type="ecomproductslist"] .ecomproductslist,
.widget[data-name="ecomfeaturedproducts"] .ecomfeaturedproducts,
.widget[data-widget-type="ecomfeaturedproducts"] .ecomfeaturedproducts {
	width: auto;
	max-width: none;
}

// Title

.ecomproductslist__listing-title,
.ecomfeaturedproducts__listing-header {
	display: none;
}

// Product Search and Filters

.ecomproductslist__product-filters {
	background-color: @color__ecomproductslist-filters--background;
	margin: 2em 0;
	.productsearch-widget-background--spacing();

	.style--light & {
		background-color: @color__ecomproductslist-filters--background;
	}

	.style--accent & {
		background-color: fade(@contrast--accent, 25%);
	}

	.style--dark & {
		background-color: fade(@contrast--dark, 25%);
	}
		
	@media @mobile {
		background-color: transparent;
		margin: 0;
		padding: 0;

		.style--light &,
		.style--accent &,
		.style--dark & {
			background-color: transparent;
		}
	}
	
	.responsivecolumns & {
		background-color: transparent;
		margin: 0;
		padding: 0;

		.style--light &,
		.style--accent &,
		.style--dark & {
			background-color: transparent;
		}
	}
	
	form {
		.display-flex(flex);
		.flex-direction(column);
	}
}

// Product Search

// For search form styles, see less/plugins/plugins.less.

// Product Filters
	
.ecomproductslist__fieldset--filters,
.ecomfeaturedproducts__fieldset--filters {
	margin: 1em -0.5em 0;
		
	@media @mobile {
		margin-bottom: 2em;
	}

	.responsivecolumns & {
		margin-bottom: 2em;
	}
	
	.form-body {
		display: table;
		width: 100%;
		
		@media @mobile {
			display: block;
		}
	
		.responsivecolumns & {
			display: block;
		}
	}

	.form-group {
		width: auto;
		display: table-cell;
		width: 100%/3;
		padding: 0 0.5em;
		
		@media @mobile {
			display: block;
			width: 100%;
			margin-bottom: 1em;
		}
	
		.responsivecolumns & {
			display: block;
			width: 100%;
			margin-bottom: 1em;
		}

		// Label

		label {
			display: block;
		}
	}
}

// Listing Order

.ecomproductslist .listing-order {
	display: none;
}

// Product List

.ecomproductslist,
.ecomfeaturedproducts {
	&__listing-body {
		padding: 1em 0;
	
		.responsivecolumns & {
			padding: 0;
			width: 100%;

			@media @mobile {
				padding: 0;
			}
		}
	}
	
	&__product-list {
		.display-flex(flex);
		.flex-wrap(wrap);
		margin: 0 -@item--margin-size;

		@media @tablet {
			margin: 0 -@item--margin-size*2;
		}

		@media @mobile {
			margin: 0;
		}
		
		.responsivecolumns & {
			margin: 0;
		}
	}
}

// Product Item

.ecomproductslist,
.ecomfeaturedproducts {
	&__product-item {
		position: relative;
		width: 100%/3;
		margin: 2em 0;
		padding: 0 0 1em;

		@media @tablet {
			width: 100%/2;
		}

		@media @mobile {
			width: 100%;
		}
	
		.responsivecolumns & {
			width: 100%;
		}
		
		&:after {
			content: ' ';
			position: absolute;
			bottom: 0;
			left: 1em;
			right: 1em;
			display: block;
			height: 0.2em;
			background-color: @color-text--lightest;
			.transition();

			.style--light & {
				background-color: @color-text--lightest;
			}

			.style--accent & {
				background-color: fade(@contrast--accent, 25%);
			}

			.style--dark & {
				background-color: fade(@contrast--dark, 25%);
			}

			@media @mobile {
				left: 0;
				right: 0;
			}
		
			.responsivecolumns & {
				left: 0;
				right: 0;
			}
		}

		// Clickable item, class added via JS

		&.clickable {
			cursor: pointer;
		}
	}
}

// Product Image

.ecomproductslist,
.ecomfeaturedproducts {
	&__product-item-image,
	.image-link {
		.display-flex(flex);
		.justify-content(center, center);
		background-color: transparent;
		background-size: contain;
		width: auto;
		line-height: 1em;
		background-color: transparent;
		overflow: hidden;
		font-size: @font__p--font-size;
		
		.make-font-a-little-smaller(@font__p--font-size);
		.make-font-smaller(@font__p--font-size);
		.make-font-a-lot-smaller(@font__p--font-size);
		
		@media @mobile {
			height: 150px;
		}
	
		.responsivecolumns .columns-two-left &,
		.responsivecolumns .columns-two-right & {
			@media @layout-width-breakpoint {
				height: 150px;
			}
		}
		.responsivecolumns .columns-three-left &,
		.responsivecolumns .columns-three-middle &,
		.responsivecolumns .columns-three-right &,
		.responsivecolumns .columns-four-first &,
		.responsivecolumns .columns-four-second &,
		.responsivecolumns .columns-four-third &,
		.responsivecolumns .columns-four-fourth & {
			height: 150px;
		}
	}
	
	.image--thumb {
		.align-self(center, center);
		max-width: none;
		height: 100%;
	}
}

// Product Item Details

.product-item-details {
	margin-top: 1em;
	text-align: center;
}

.product-item-title {
	.heading--3;
	padding-top: 0;
	font-size: @font__p--font-size;

	.make-font-a-little-smaller(@font__p--font-size);
	.make-font-smaller(@font__p--font-size);
	.make-font-a-lot-smaller(@font__p--font-size);
}

.ecomproductslist__title-link,
.ecomfeaturedproducts__title-link {
	color: @color__ecomproductslist-product-title--text;

	.style--light & {
		color: @color__ecomproductslist-product-title--text;
	}

	.style--accent & {
		color: @contrast--accent;
	}

	.style--dark & {
		color: @contrast--dark;
	}
}

.product-item-price {
	.item-price;
}

// Paginatinon

// For pagination styles, see less/plugins/plugins.less.